# Caddy Configuration for Zeabur Deployment

:8080 {
	# 设置根目录
	root * /app
	
	# 将根路径重定向到主应用文件
	@index {
		path /
	}
	redir @index /task-management-app.html permanent
	
	# API代理配置 - 将/api请求代理到后端3001端口
	@api {
		path /api/*
	}
	reverse_proxy @api localhost:3001
	
	# 静态文件服务
	file_server
	
	# 配置日志
	log {
		level info
		format json
	}
	
	# 配置压缩
	encode gzip zstd
	
	# 配置缓存
	header {
		Cache-Control "public, max-age=3600"
	}
}